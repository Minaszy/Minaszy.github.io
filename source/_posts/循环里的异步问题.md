---
title: 循环里的异步问题
date: 2020-01-14 09:41:57
tags:
---
##问题描述
工作中经常遇到这样的情况：要根据一系列id通过一个异步请求去获取对应的result，拿到的数据是以id为元素的数组。
1. 遍历数组，依次请求，把结果push到一个数组里，但是不知道多个异步请求什么时候结束来执行后边对结果的操作；这个时候可以通过判断数组遍历是否是最后一个，最后一个就说明前面所有的请求结果都拿到了。这种做法就是不能保证前面的结果统统都拿到了，万一有一个异步很慢，但是最后一个异步很快，就会导致数据拿的不全。